# Hello Web Server
Author: Juho Järvinen

## Tiivistelmät
### Apache
- Ensimmäinen sivusto on osa Apachen dokumentaatiota
- Tässä osassa dokumentaatiota kerrotaan miten name-based virtual hosteja käytetään
- selitetään ero name-basedin ja ip-basedin välillä
- miten palvelin valitsee oikean virtual hostin
- syntaksi esimerkkejä
(Apache)

### Tero karvinen
- kirjoitus miten Apachella voidaan hostata montaa eri verkkosivustoa yhdestä ip osoitteesta
- voi olla monta eri domain nimeä yhdestä ip osoitteesta
- miten asennetaan apache web palvelin linuxilla
- miten lisätään uusi name based virtual host
- miten tehdään uusi nettisivu ilman sudo oikeuksia
- testaus
  (Tero Karvinen)

## A)
Testaa, että weppipalvelimesi vastaa localhost-osoitteesta. Asenna Apache-weppipalvelin, jos se ei ole jo asennettuna.
<img width="430" height="183" alt="image" src="https://github.com/user-attachments/assets/1cc09e64-72dc-4273-b0dc-0122e9965e4f" />

## B)
Etsi lokista rivit, jotka syntyvät, kun lataat omalta palvelimeltasi yhden sivun. Analysoi rivit (eli selitä yksityiskohtaisesti jokainen kohta ja numero, etsi tarvittaessa lähteitä).
<img width="1194" height="55" alt="image" src="https://github.com/user-attachments/assets/2593e3dc-630a-4a22-ac5e-baf791e3a9df" />
<br>
- www.juho.example.com on virtual host palvelimen nimi jota pyyntö käytti
- :80 on pyynnön portti
- 127.0.0.1 on asiakkaan ip osoite
- RFC 1413 identd käyttäjätunnus jota ei ole eli -
- HTTP autentikoinnin käyytäjänimi taas - koska ei kirjautumista
- [27/Jan/2026:18:45:34 +0200] on aikaleima, jolloin pyyntö vastaanotettiin
- "GET /favicon.ico HTTP/1.1" HTTP pyyntö favicon resurssille
- 404 HTTP vastauskoodi -> ei löytynyt (favicon)
- 527 vastauksen koko tavuina
- "http://localhost/" miltä sivustolta pyyntö tuli
- "Mozilla/5.0 (X11; Linux x86_64; rv:140.0) Gecko/20100101 Firefox/140.0" user agent, selain + käyttöjärjestelmä

## C)
Uusi virtual host
1. luodaan uusi hattu.conf tiedosto etc/apache2/sites-avalable kansioon
   <img width="558" height="269" alt="image" src="https://github.com/user-attachments/assets/a4ff6f19-0786-4743-a7d2-9820ce907169" />
   <br>
2. vaihdetaan aktiivinen konfiguraatio ja uudelleen käynnistetään apache
   <img width="781" height="283" alt="image" src="https://github.com/user-attachments/assets/24988db0-3cc7-4725-bf04-eb8e49a9d615" />
   <br>
3. Tehdään uudessa conf tiedostossa määritetty tiedostopolku uudelle sivustolle
   <img width="880" height="169" alt="image" src="https://github.com/user-attachments/assets/46250107-cf66-4264-9d8c-1fd8b7089ad2" />
   <br>
4. Mennään osoitteeseen http://localhost ja uuden hattusivuston tulisi näkyä!
   <br>
   <img width="432" height="268" alt="image" src="https://github.com/user-attachments/assets/e73f7ccb-2882-41d2-9fc5-fdd5aa86e7f6" />
   <br>
5. Vähän tyylitellympi sivusto
   <img width="954" height="640" alt="image" src="https://github.com/user-attachments/assets/282b1b2c-7a57-4fd5-8568-7c8b0a1730ae" />
6. html koodi näyttää tältä
   <br>
   <img width="849" height="747" alt="image" src="https://github.com/user-attachments/assets/86c93c58-ee31-4c02-adfe-6b7624be07e9" />
   <br>

## E)
### Curl esimerkki:
### localhost
<img width="815" height="805" alt="image" src="https://github.com/user-attachments/assets/2c33a4b0-f18a-4148-bfec-fe30e16fa92f" />

### Curl -I esimerkki Hockeygoalietraining.fi
<img width="768" height="233" alt="image" src="https://github.com/user-attachments/assets/40888323-f2f9-4635-864e-c60bab15cecf" />
<br>

- HTTP/1.1 200 OK – Palvelin vastasi onnistuneesti pyyntöön
- Date – Vastauksen lähetysaika
- Server: Apache – Käytössä oleva web-palvelinohjelmisto
- Expires – Määrittää milloin sisältö vanhenee (tässä asetettu menneisyyteen → ei välimuistia)
- Cache-Control – Ohjaa selainta olemaan tallentamatta sivua välimuistiin
- Pragma: no-cache – Vanhempi tapa estää välimuistin käyttö
- Set-Cookie: PHPSESSID=... – Asettaa käyttäjän istuntotunnisteen (sessio)
- Upgrade – Ilmoittaa tuen uudemmalle HTTP-versiolle (HTTP/2)
- Connection: Upgrade – Mahdollistaa protokollan vaihdon
- Vary: Accept-Encoding – Sisältö voi muuttua pakkaustavan mukaan
- Content-Type: text/html; charset=UTF-8 – Palautettu sisältö on HTML-sivu UTF-8-merkistöllä

(ChatGpt)

## Lähteet
- Apache. https://httpd.apache.org/docs/2.4/vhosts/name-based.html
- Tero Karvinen. Name Based Virtual Hosts. https://terokarvinen.com/2018/04/10/name-based-virtual-hosts-on-apache-multiple-websites-to-single-ip-address/
- ChatGPT. ChatGPT 5.2 kielimalli.
