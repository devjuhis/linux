# Salataampa

## Tiivistelmät
### LetsEncrypt
- Tavoite on automatisoida HTTPS sertifikaatiin hankkiminen ja käyttöönotto
- Palvelimelle asennetaan ACME ohjelma (certbot) joka hoitaa yhteyden Lets Encryptiin
- todistetaan että omistat kyseisen domainin
- kun todennettu, LetsEncrypt antaa sertifikaatin
- Sertifikaatti uusitaan ennen kuin se vanhenee automaattisesti

### Apache
- Apache tarvitsee ssl laajennuksen
- palvelimen tulee kuunnella 443 porttia, joka on https liikenteen vakioportti
- tulee tehdä VirtualHost *:443- lohko, joka käsittelee HTTPS pyyntöjä
- ServerName kertoo apachelle mitä domainia vhosts vastaa

## A)
Katsotaan että portti 443 on auki palomuurista komennolla `sudo ufw status verbose`
<img width="642" height="277" alt="image" src="https://github.com/user-attachments/assets/c2e5598f-6f64-4aab-a2b9-6c4163b7db8f" />

<br>
<br>

Asennetaan **certbot** ja **python-certbot-apache**

<br>
<br>

Ajetaan `sudo certbot` ja vastataan kysymyksiin (email ja domain nimi)
<br>
<img width="949" height="230" alt="image" src="https://github.com/user-attachments/assets/d71b986f-d095-4bb8-9a5e-6a48e1c25b29" />
<img width="550" height="621" alt="image" src="https://github.com/user-attachments/assets/210a16e3-01fe-4051-a6b5-733968cd8fee" />

## B)
Testataav vielä tarkistustyökalulla **SSLLabs**
<img width="1150" height="898" alt="image" src="https://github.com/user-attachments/assets/3f9849f2-2144-497b-ba06-140283776a08" />

## Lähteet
LetsEncrypt. How It Works. https://letsencrypt.org/how-it-works/
Apache. SSL/TLS Strong Encryption: How-To. https://httpd.apache.org/docs/2.4/ssl/ssl_howto.html#configexample

